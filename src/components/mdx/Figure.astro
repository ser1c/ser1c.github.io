---
import { Image } from 'astro:assets';

interface Props {
  src: string;
  alt: string;
  width?: number;
  height?: number;
}

const { src, alt, width, height } = Astro.props;
const isSvg = src.endsWith(".svg");
---

<figure class="not-prose figure border-zinc-200 border-2">
  {isSvg ? (
    <object data={src} type="image/svg+xml" class="w-full"></object>
  ) : (
    <Image 
      src={src}
      alt={alt}
      width={width || 800}
      height={height || 600}
      class="w-full"
      loading="lazy"
      format="webp"
      quality={80}
    />
  )}
  <figcaption class="text-xl mt-size-2xs">
    <b>Figure:</b> {alt}
  </figcaption>
</figure>
